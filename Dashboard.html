<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>Expense Manager</title>
  <!-- Bootstrap core CSS-->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Custom fonts for this template-->
  <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
   
  <!-- Page level plugin CSS-->
  <link href="vendor/datatables/dataTables.bootstrap4.css" rel="stylesheet">
  <!-- Custom styles for this template-->
  <link href="css/sb-admin.css" rel="stylesheet">

  <style>
      th {
    text-align: center;
      }
    .table-bordered thead td, .table-bordered thead th {
    text-align: center;
    font-family: "Open Sans", Helvetica, Arial, sans-serif;
}
h1,h2,h4,h5,h6,#heading { font: bold 2em "Times New Roman", Times, serif;
        color: black;
        }

  </style>
</head>

<body class="fixed-nav sticky-footer bg-dark" id="page-top">
    
                                <!-- Navigation-->
                                
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
      <a class="navbar-brand" href="Dashboard.html">Welcome! <span id ="loggedInUser" ></span></a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav navbar-sidenav" id="exampleAccordion">
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Dashboard">
          <a class="nav-link" href="Dashboard.html">
            <i class="fa fa-fw fa-dashboard"></i>
            <span class="nav-link-text">Dashboard</span>
          </a>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Charts">
          <a class="nav-link" href="charts.html">
            <i class="fa fa-fw fa-area-chart"></i>
            <span class="nav-link-text">Chart Analysis</span>
          </a>
        </li>
      </ul>
    <ul class="navbar-nav sidenav-toggler">
        <li class="nav-item">
          <a class="nav-link text-center" id="sidenavToggler">
            <i class="fa fa-fw fa-angle-left"></i>
          </a>
        </li>
      </ul> 
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <form class="form-inline my-2 my-lg-0 mr-lg-2">
            <div class="input-group">
              <input class="form-control" type="text" placeholder="Search for...">
              <span class="input-group-append">
                <button class="btn btn-primary" type="button">
                  <i class="fa fa-search"></i>
                </button>
              </span>
            </div>
          </form>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-toggle="modal" data-target="#logoutModal">
            <i class="fa fa-fw fa-sign-out"></i>Logout</a>
        </li>
      </ul>
    </div>
  </nav>
  <div class="content-wrapper">
  <div class="container-fluid">
     

                                        <!-- Start of Heading -->
      
     <div class="card mb-3">
        <div class="card-header" style="background-color: #e9ecef">
            <span id ="heading" style="font-family: 'Source Sans Pro', sans-serif; color:inherit;">Manage Budget </span>
            <button type="button" style="float :right;"  onclick = "clearIncomeModal();" class="btn btn-info btn-lg" data-toggle="modal" data-target="#incomeModal">Add Income</button>
             <br> <br>  <div id="clockbox" style="font:14pt  Arial; color:inherit;text-align:left;"></div>
        </div>
      
      </div>
                                        <!-- END OF Heading -->
     
                                         <!-- Start of Icon Cards-->
    <div class="row">
        <div class="col-xl-3 col-sm-6 mb-3">
            <div class="card text-white bg-primary o-hidden h-100">
                   <div class="card-body">
                        <div class="card-body-icon">
                            <i class="fa fa-fw fa-balance-scale"></i>
                        </div>
                    <div class="mr-5"><h3> Total Budget </h3></div>
                </div>
            <a class="card-footer text-white clearfix small z-1" href="#">
              <span class="float-left"  style="font-family: 'Source Sans Pro', sans-serif; color:inherit; font-size:24px" id ="totalBudget"></span>
              
            </a>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-3">
            <div class="card text-white bg-warning o-hidden h-100">
                <div class="card-body">
                     <div class="card-body-icon">
                    <i class="fa fa-fw fa-credit-card"></i>
                    </div>
                <div class="mr-5"><h3>Total Expenditure</h3></div>
                </div>
                <a class="card-footer text-white clearfix small z-1" href="#">
                <span class="float-left" style="font-family: 'Source Sans Pro', sans-serif; color:inherit; font-size:24px" id = "totalExpenditure"></span>
                </a>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-3">
          <div class="card text-white bg-success o-hidden h-100">
            <div class="card-body">
              <div class="card-body-icon">
                <i class="fa fa-fw fa-money"></i>
              </div>
                <div class="mr-5"><h3> Total Income</h3></div>
            </div>
            <a class="card-footer text-white clearfix small z-1" href="#">
              <span class="float-left" id = "totalIncome" style="font-family: 'Source Sans Pro', sans-serif; color:inherit; font-size:24px"></span>
            </a>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-3">
          <div class="card text-white bg-danger o-hidden h-100">
            <div class="card-body">
              <div class="card-body-icon">
                <i class="fa fa-fw fa-suitcase"></i>
              </div>
                <div class="mr-5"><h3> Total Savings</h3></div>
            </div>
            <a class="card-footer text-white clearfix small z-1" href="#">
              <span class="float-left" id = "totalSaving" style="font-family: 'Source Sans Pro', sans-serif; color:inherit; font-size:24px"></span>
            </a>
          </div>
        </div>
      </div>
                  <!--  END OF ICON CARDS  -->
      
                  
                        <!-- START OF CARD FOR ADDING CATEGORIES -->
      <div class="card mb-3">
        <div class="card-header" style="background-color: #e9ecef">
            <span id ="heading" style="font-family: 'Source Sans Pro', sans-serif; color:inherit;">Categories</span>

     <button type="button" style="float :right;"  onclick="clearCategoryModal();" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Add Category</button>
     </div>
     <div class="card-body">
          <div>
            <table class="table table-bordered" id="myTable" width="50%" cellspacing="0">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Monthly Budget(in Rs)</th>
                </tr>
              </thead>
            </table>
          </div>
        </div>
      </div>
                        <!-- END OF CARD FOR ADDING CATEGORIES -->
     
                             <!-- START OF DIV FOR  Home -->
      <div class="row">
            <div class="col-md-5">
                <div class="card mb-3">
                    <div class="card-header" style="background-color:#e9ecef">
                        <span style="font-family: 'Source Sans Pro';color: inherit; font-size:24px;"><i class="fa fa-lg fa-home"></i><b>Home</b></span>
                        <button type="button" onclick="clearExpenseModal();" style="float :right;" class="btn btn-info btn-lg" data-toggle="modal" data-target="#expenses" data-id="home">Add Expenses</button>
                    </div>
                    <div class="card-body">
                        <div>
                             <table class="table table-bordered" id ="hometable" width="50%" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th>SubCategory</th>
                                        <th>Expenditure(in Rs)</th>
                                    </tr>
                                </thead>
                            </table>
                             <span style="font-family: 'Source Sans Pro';color: inherit; font-size:20px;" > <b> Total Expenditure (in Rs):</b> </span> <span id="homeExpense" style="font-family: 'Source Sans Pro';color: inherit; font-size:20px;"></span>
                        </div>
                    </div>
                </div>
            </div>
                            <!-- END OF DIV FOR HOME-->
    
    <div class="col-md-2"></div>
    
                        <!-- START OF Card FOR  For Transportation -->
    <div class="col-md-5">
    <div class="card mb-3">
        <div class="card-header" style="background-color:#e9ecef">
            <span style="font-family: 'Source Sans Pro';color: inherit; font-size:24px;"><i class="fa fa-lg fa-bus"></i><b>Transportation</b></span>
            <button type="button" onclick="clearExpenseModal();" style="float :right;" class="btn btn-info btn-lg" data-toggle="modal" data-target="#expenses" data-id="transportation">Add Expenses</button>
     </div>
     <div class="card-body">
          <div>
            <table class="table table-bordered" id ="transportationtable" width="50%" cellspacing="0">
              <thead>
                <tr>
                  <th>SubCategory</th>
                  <th>Expenditure(in Rs)</th>
                </tr>
              </thead>
            </table>
              <span style="font-family: 'Source Sans Pro';color: inherit; font-size:20px;"> <b>Total Expenditure(in Rs) :</b></span> <span id="tExpense" style="font-family: 'Source Sans Pro';color: inherit; font-size:20px;"></span>
          </div>
        </div>
      
      </div>
      </div>
                     <!-- END OF CARD FOR Transportation -->
    </div>
  <!-- END OF ROW -->
  
 <!-- START OF SECOND ROW -->
            <div class="row">
                        <!-- START OF Card FOR ENTERTAINMENT --> 
          <div class="col-md-5">
                <div class="card mb-3">
                <div class="card-header" style="background-color:#e9ecef">
                    <span style="font-family: 'Source Sans Pro';color: inherit; font-size:24px;"><i class="fa fa-lg fa-gamepad"></i><b>Entertainment</b></span>
                    <button type="button" onclick="clearExpenseModal();" style="float :right;" class="btn btn-info btn-lg" data-toggle="modal" data-target="#expenses" data-id="entertainment">Add Expenses</button>
                </div>
            <div class="card-body">
                <div>
                    <table class="table table-bordered" id ="entertainmenttable" width="50%" cellspacing="0">
                        <thead>
                        <tr>
                            <th>SubCategory</th>
                            <th>Expenditure(in Rs)</th>
                         </tr>
                        </thead>
                     </table>
                    <span style="font-family: 'Source Sans Pro';color: inherit; font-size:20px;" > <b> Total Expenditure (in Rs):</b> </span> <span id="entertainmentExpense" style="font-family: 'Source Sans Pro';color: inherit; font-size:20px;"></span>
                </div>
            </div>
            </div>
           </div>
                        <!-- END OF Card FOR Entertainment -->
    
    <div class="col-md-2"></div>
    
                        <!-- START OF Card FOR  For Miscellaneous -->
    <div class="col-md-5">
        <div class="card mb-3">
            <div class="card-header" style="background-color:#e9ecef">
                <span style="font-family: 'Source Sans Pro';color: inherit; font-size:24px;"><i class="fa fa-lg fa-shopping-basket"></i><b>Miscellaneous</b></span>
                <button type="button" style="float :right;" onclick="clearExpenseModal();" class="btn btn-info btn-lg" data-toggle="modal" data-target="#expenses" data-id="miscellaneous">Add Expenses</button>
            </div>
     <div class="card-body">
          <div>
            <table class="table table-bordered" id ="miscellaneoustable" width="50%" cellspacing="0">
              <thead>
                <tr>
                  <th>SubCategory</th>
                  <th>Expenditure(in Rs)</th>
                </tr>
              </thead>
            </table>
              <span style="font-family: 'Source Sans Pro';color: inherit; font-size:20px;"> <b>Total Expenditure(in Rs) :</b></span> <span id="mExpense" style="font-family: 'Source Sans Pro';color: inherit; font-size:20px;"></span>
          </div>
        </div>
      
      </div>
      </div>
                        <!-- END OF CARD FOR Miscellaneous -->
    </div>
        <!-- END OF SECOND ROW -->
    </div>
     
    <!-- /.container-fluid-->
    <!-- /.content-wrapper-->
    <footer class="sticky-footer">
      <div class="container">
        <div class="text-center">
        </div>
      </div>
    </footer>
    
    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
      <i class="fa fa-angle-up"></i>
    </a>
    
                    <!-- START OF Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
          <div class="modal-footer">
            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
            <a class="btn btn-primary" href="index.html">Logout</a>
          </div>
        </div>
      </div>
    </div>
                    <!-- END OF LOGOUT MODAL -->
    
                <!-- START OF  MODAL FOR ADDING CATEGORIES -->
      
    <div id="myModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Add New Category</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
            <div class="modal-body">
              <form class="form-horizontal" id="CategoryForm">
                 <div class ="form-group">
                       <div class="row">
                            <label class="control-label col-sm-3" for="nameOfCategory"><b>Name</b></label>
                            <div class ="col-sm-9">
                            <input type ="text" id ="nameOfCategory" name="category">
                            </div>
                        </div>
                  </div>
                  <div class="form-group">
                      <div class="row">
                          <label class="control-label col-sm-3"  for="budgetOfCategory"><b>Budget(in Rs)</b></label> 
                          <div class="col-sm-9">
                            <input  type ="number" min="0" id ="budgetOfCategory" name="budget">
                          </div>
                      </div>
                  </div>
              </form>
            </div>
            <div class="modal-footer">
                <button type="button" onclick="validateForm();" id="add" class="btn btn-success" >ADD</button>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
  </div>
</div>
                     <!--  END OF MODAL   FOR  ADDING CATEGORIES  -->
 
                <!-- START OF MODAL FOR ADDING EXPENSES -->
    <div id="expenses" class="modal fade" role="dialog">
        <div class="modal-dialog">
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="Expenses">Add today's expenses</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
            <div class="modal-body">
              <form class="form-horizontal" id="ExpenseForm" >
                 <div class ="form-group">
                       <div class="row">
                            <label class="control-label col-sm-3" for="subtype"><b>Remark</b></label>
                            <div class ="col-sm-9">
                            <input type ="text" id ="subtype" name="subtype">
                            </div>
                        </div>
                  </div>
                  <div class="form-group">
                      <div class="row">
                          <label class="control-label col-sm-3"  for="amount"><b>Transaction Amount(in Rs)</b></label> 
                          <div class="col-sm-9">
                            <input  type ="number" min="0" id ="amount" name="amount">
                          </div>
                      </div>
                  </div>
              </form>
            </div>
            <div class="modal-footer">
                <button type="button" onclick="validateExpenseForm();" id="add" class="btn btn-success" >ADD</button>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
    </div>
    </div>
 
                        <!-- END OF MODAL FOR ADDING EXPENSES -->

 
                         <!-- START OF MODAL FOR ADDING INCOME -->
    <div class="modal fade" id="incomeModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">What's Your Income ?</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body">
              <form class= "form-horizontal" id="IncomeForm" >
             <div class="form-group">
                      <div class="row">
                          <label class="control-label col-sm-3"  for="income"><b>Amount(in Rs)</b></label> 
                          <div class="col-sm-9">
                            <input  type ="number" min="0" id ="income" name="income">
                          </div>
                      </div>
                  </div>
                </form>
          </div>
          <div class="modal-footer">
             <button type="button" onclick="validateIncomeForm();" id="add" class="btn btn-success" >ADD</button>
             <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
 
                <!-- END OF MODAL FOR ADDING INCOME -->
 
 
 
    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <!-- Page level plugin JavaScript-->
    <script src="vendor/chart.js/Chart.min.js"></script>
    <script src="vendor/datatables/jquery.dataTables.js"></script>
    <script src="vendor/datatables/dataTables.bootstrap4.js"></script>
    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin.min.js"></script>
    <!-- Custom scripts for this page-->
    <script src="js/sb-admin-datatables.min.js"></script>
    <script src="js/sb-admin-charts.js"></script>
  </div>
  
  
  
  <script>
    
    var currentExpenseId;
    var homeExpense=0;
    var transportExpense = 0;
    var entertainmentExpense = 0;
    var healthExpense = 0;
    var miscellaneous = 0;
    var totalBudget = 0;
    var totalExpenditure = 0;
    var totalSavings = 0;
    var totalIncome = 0;

    $(document).ready(function() {
  $('#expenses').on('show.bs.modal', function(e) {
    var id = $(e.relatedTarget).data('id');
    currentExpenseId = id;
  });
});
    var category = [];
    var expense = [];
    var today = new Date();
    var dailyExpenses = new Array();
    var monthlyExpenses = new Array();
    var tday = today.getDate();
    var tmth = today.getMonth();
    
  for(var i = 0;i<=tmth;i++){
      monthlyExpenses[i] = 0;
  }
  for(var i = 0;i<tday;i++){
      dailyExpenses[i] = 0;
  }
  
        window.onload=function() 
    {  
        document.getElementById('clockbox').innerHTML= today.toDateString();
      if(localStorage.getItem("loggedInUser") !== null){
           var currentUser =JSON.parse(localStorage.getItem("loggedInUser"));
           document.getElementById('loggedInUser').innerHTML = currentUser; 
       }
      if(localStorage.getItem("categories") !== null) 
      { 
        var storedNames =JSON.parse(localStorage.getItem("categories"));
        category = storedNames;
        var text = "";
        var x;
         var table = document.getElementById("myTable");
        for(x in storedNames){
            var k  = 0;
             var row = table.insertRow(1);
          for(var j in storedNames[x]){
              text += storedNames[x][j] +'<br>';
                var cell1 = row.insertCell(k);
                cell1.innerHTML = storedNames[x][j];
                k++;
          }
        }
        
    }
     if(localStorage.getItem("expenses") !== null) 
      {    
        var storedExpenses = JSON.parse(localStorage.getItem("expenses"));
        expense = storedExpenses;
        for(var i in expense){
            var table = null ;
            var row;
            var k  = 0;
                 for(var j in expense[i]){
                    if(expense[i][j] === 'home'){
                          table = document.getElementById("hometable");
                           row = table.insertRow(1);
                    }
                    else if(expense[i][j] === 'transportation'){
                         table = document.getElementById("transportationtable");
                           row = table.insertRow(1);
                    }
                    else if(expense[i][j] === 'entertainment'){
                         table = document.getElementById("entertainmenttable");
                           row = table.insertRow(1);
                    }
                    else if(expense[i][j] === 'miscellaneous'){
                         table = document.getElementById("miscellaneoustable");
                           row = table.insertRow(1);
                    }
                    else{
                        if(table !== null){
                            var cell1 = row.insertCell(k);
                            cell1.innerHTML = expense[i][j];
                            k++;
                        }
                    }
                 }
             }
      }  
    if(localStorage.getItem("homeExpense") !== null){
        
        var exp =JSON.parse(localStorage.getItem("homeExpense"));
        homeExpense = exp;
         document.getElementById('homeExpense').innerHTML =  homeExpense;
      }
      
    if(localStorage.getItem("transportExpense") !== null){
        
        var expt =JSON.parse(localStorage.getItem("transportExpense"));
        transportExpense = expt;
         document.getElementById('tExpense').innerHTML =  transportExpense;
      }
      
     if(localStorage.getItem("entertainmentExpense") !== null){
        
        var exp =JSON.parse(localStorage.getItem("entertainmentExpense"));
        entertainmentExpense = exp;
         document.getElementById('entertainmentExpense').innerHTML =  entertainmentExpense;
      }
      
      if(localStorage.getItem("miscellaneous") !== null){
        
        var exp =JSON.parse(localStorage.getItem("miscellaneous"));
        miscellaneous = exp;
        document.getElementById('mExpense').innerHTML =  miscellaneous;
      }
      
      if(localStorage.getItem("Budget") != null){
          var bgt = JSON.parse(localStorage.getItem("Budget"));
          totalBudget = bgt;
           document.getElementById('totalBudget').innerHTML =  totalBudget;
      }
      
      else{
          document.getElementById('totalBudget').innerHTML =  0;
      }
      
      if(localStorage.getItem("totalExpenditure") != null){
          var bgt = JSON.parse(localStorage.getItem("totalExpenditure"));
          totalExpenditure = bgt;
           document.getElementById('totalExpenditure').innerHTML =  totalExpenditure;
      }
      
      else{
          document.getElementById('totalExpenditure').innerHTML =  0;
      }
      
      if(localStorage.getItem("Income") != null){
          var bgt = JSON.parse(localStorage.getItem("Income"));
          totalIncome = bgt;
           document.getElementById('totalIncome').innerHTML =  totalIncome;
           if(localStorage.getItem("Savings") != null){
             
          var bg = JSON.parse(localStorage.getItem("Savings"));
          totalSavings = bg;
           document.getElementById('totalSaving').innerHTML =  totalSavings;
      }
      
     }
      else{
          document.getElementById('totalIncome').innerHTML =  0;
          document.getElementById('totalSaving').innerHTML =  0;
      }
     
    }  


// Function to add categories 
  function addData(){
        var cname = document.getElementById('nameOfCategory').value;
        var cbudget = document.getElementById('budgetOfCategory').value;
        category.push({name : cname , budget : cbudget});
         var amt = parseInt(totalBudget);
           var add = parseInt(cbudget);
           totalBudget  = amt + add; 
           document.getElementById('totalBudget').innerHTML =  totalBudget;
        if (typeof(Storage) !== "undefined") {
    // Store
    localStorage.setItem("categories", JSON.stringify(category));
    localStorage.setItem("Budget", JSON.stringify(totalBudget));
} else {
    document.getElementById("myTable").innerHTML = "Sorry, your browser does not support Web Storage...";
        }
       var table = document.getElementById("myTable");
       var row = table.insertRow(1);
       var cell1 = row.insertCell(0);
       cell1.innerHTML = cname;
       var cell2 = row.insertCell(1);
       cell2.innerHTML = cbudget;

    }
    
    // Function To Add Expenses 
    function addExpenses(){
        var subType = document.getElementById('subtype').value;
        var amount = document.getElementById('amount').value;
        expense.push({name : currentExpenseId, subtype :subType , amount :amount });
        var divId;
        var tableId;
        divId = currentExpenseId;
        tableId = divId + 'table';
         if(currentExpenseId == 'home'){
            var amt = parseInt(homeExpense);
            var add = parseInt(amount);
             homeExpense = amt + add; 
            document.getElementById('homeExpense').innerHTML =  homeExpense;
            var val = parseInt(totalExpenditure);
            totalExpenditure =  parseInt(totalExpenditure)+ add;

       }
      else if(currentExpenseId == 'transportation'){
           var amt = parseInt(transportExpense);
           var add = parseInt(amount);
            transportExpense = amt + add; 
           document.getElementById('tExpense').innerHTML =  transportExpense;
           var val = parseInt(totalExpenditure);
           totalExpenditure = parseInt(totalExpenditure) + add;
          
           
       }
       else if(currentExpenseId == 'entertainment'){
           var amt = parseInt(entertainmentExpense);
           var add = parseInt(amount);
            entertainmentExpense = amt + add; 
           document.getElementById('entertainmentExpense').innerHTML =  entertainmentExpense;
           var val = parseInt(totalExpenditure);
           totalExpenditure = parseInt(totalExpenditure) + add;
          
           
       }
       else if(currentExpenseId == 'miscellaneous'){
           var amt = parseInt(miscellaneous);
           var add = parseInt(amount);
            miscellaneous = amt + add; 
           document.getElementById('mExpense').innerHTML = miscellaneous;
           var val = parseInt(totalExpenditure);
           totalExpenditure = parseInt(totalExpenditure) + add;
          
           
       }
       dailyExpenses[parseInt(tday)-1] = parseInt(dailyExpenses[parseInt(tday)-1]) + parseInt(totalExpenditure);
       monthlyExpenses[parseInt(tmth)] = parseInt(dailyExpenses[parseInt(tmth)]) + parseInt(totalExpenditure);
       
       if(totalIncome !== 0){
           var vv  = parseInt(totalIncome) - parseInt(totalExpenditure);
           totalSavings = vv;
       }
       
       document.getElementById('totalExpenditure').innerHTML = totalExpenditure;
       document.getElementById('totalSaving').innerHTML = totalSavings;
        if (typeof(Storage) !== "undefined") {
            // Store
        localStorage.setItem("expenses", JSON.stringify(expense));
        localStorage.setItem("homeExpense", JSON.stringify(homeExpense));
        localStorage.setItem("transportExpense", JSON.stringify(transportExpense));
        localStorage.setItem("entertainmentExpense", JSON.stringify(entertainmentExpense));
        localStorage.setItem("miscellaneous", JSON.stringify(miscellaneous ));
        localStorage.setItem("totalExpenditure", JSON.stringify(totalExpenditure));
        localStorage.setItem("Savings", JSON.stringify(totalSavings));
        localStorage.setItem("dailyExpenses", JSON.stringify(dailyExpenses));
        localStorage.setItem("monthlyExpenses", JSON.stringify(monthlyExpenses));
        }
    else {
        
            document.getElementById(tableId).innerHTML = "Sorry, your browser does not support Web Storage...";
            
        }
    
       var table = document.getElementById(tableId);
       var row = table.insertRow(1);
       var cell1 = row.insertCell(0);
       cell1.innerHTML = subType;
       var cell2 = row.insertCell(1);
       cell2.innerHTML = amount;
    }
    
    // Function To Add Income
    function addIncome(){
        var income = document.getElementById('income').value;
        totalIncome = income;
        var sv = parseInt(totalIncome);
        totalSavings = sv - parseInt(totalExpenditure);
        document.getElementById('totalIncome').innerHTML =  totalIncome;
        document.getElementById('totalSaving').innerHTML =  totalSavings;
        if (typeof(Storage) !== "undefined") {
            // Store
         localStorage.setItem("Income", JSON.stringify(totalIncome));
        localStorage.setItem("Savings", JSON.stringify(totalSavings));
        }
    }
    function clearIncomeModal()
    {
       document.getElementById('income').value = ""; 
    }
     function clearCategoryModal()
    {
         document.getElementById('nameOfCategory').value = "";
         document.getElementById('budgetOfCategory').value = "";
        
    }
     function clearExpenseModal()
    {   
         document.getElementById('subtype').value = "";
         document.getElementById('amount').value = "";
        
    }
    
    function validateForm(){
        var count = 0;
        var val1 =  document.getElementById('nameOfCategory').value ;
        var val2 =   document.getElementById('budgetOfCategory').value;
        if(val1.trim().length == 0){
            count++;
        }
        if(val2.trim().length == 0){
            count++;
        }
        if(count>0){
            alert("Please Enter all the fields");
            return false;
        }
        else{
            addData();
        }
    }
    function validateExpenseForm(){
        var count = 0;
      var val1 =  document.getElementById('subtype').value;
        var val2 = document.getElementById('amount').value;
        if(val1.trim().length == 0){
            count++;
        }
        if(val2.trim().length == 0){
            count++;
        }
        if(count>0){
            alert("Please Enter all the fields");
            return false;
        }
        else{
            addExpenses();
        }
    }
    function validateIncomeForm(){
        var count = 0;
        var val1 = document.getElementById('income').value;
        if(val1.trim().length == 0){
            count++;
        }
        if(count>0){
            alert("Please Enter the  income field");
            return false;
        }
        else{
            addIncome();
        }
    }
</script>
     
</body>

</html>
